

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Source: formatDate.js | CodeSnippet</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/bootstrap.min.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-jsdoc.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/tui-doc.css">

    
</head>
<body>
<nav class="lnb" id="lnb">
    <div class="logo" style="width: 150px; height: 13px">
        
            <a href="https://github.com/nhn/tui.jsdoc-template" rel="noopener noreferrer" target="_blank">
                <img src="https://cloud.githubusercontent.com/assets/12269563/20029815/01133928-a39a-11e6-80f3-12500a91c755.png" width="100%" height="100%">
            </a>
        
    </div>
    <div class="title">
        <h1><a href="index.html" class="link">CodeSnippet</a></h1>
        
            <span class="version">v1.5.2</span>
        
    </div>
    <div class="search-container" id="search-container">
        <input type="text" placeholder="Search">
        <ul></ul>
    </div>
    
    <div class="lnb-api hidden"><h3>Classes</h3><ul><li><a href="tui.util.CustomEvents.html">CustomEvents</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="tui.util.CustomEvents_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="tui.util.CustomEvents.html#contexts">contexts</a></li><li><a href="tui.util.CustomEvents.html#events">events</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="tui.util.CustomEvents.html#.mixin">mixin</a></li><li><a href="tui.util.CustomEvents.html#fire">fire</a></li><li><a href="tui.util.CustomEvents.html#getListenerLength">getListenerLength</a></li><li><a href="tui.util.CustomEvents.html#hasListener">hasListener</a></li><li><a href="tui.util.CustomEvents.html#invoke">invoke</a></li><li><a href="tui.util.CustomEvents.html#off">off</a></li><li><a href="tui.util.CustomEvents.html#on">on</a></li><li><a href="tui.util.CustomEvents.html#once">once</a></li></ul></div></li><li><a href="tui.util.Enum.html">Enum</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="tui.util.Enum_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="tui.util.Enum.html#getName">getName</a></li><li><a href="tui.util.Enum.html#set">set</a></li></ul></div></li><li><a href="tui.util.ExMap.html">ExMap</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="tui.util.ExMap_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="tui.util.ExMap.html#deleteByKeys">deleteByKeys</a></li><li><a href="tui.util.ExMap.html#filter">filter</a></li><li><a href="tui.util.ExMap.html#merge">merge</a></li><li><a href="tui.util.ExMap.html#setObject">setObject</a></li></ul></div></li><li><a href="tui.util.HashMap.html">HashMap</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="tui.util.HashMap_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="tui.util.HashMap.html#length">length</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="tui.util.HashMap.html#each">each</a></li><li><a href="tui.util.HashMap.html#find">find</a></li><li><a href="tui.util.HashMap.html#get">get</a></li><li><a href="tui.util.HashMap.html#has">has</a></li><li><a href="tui.util.HashMap.html#keys">keys</a></li><li><a href="tui.util.HashMap.html#merge">merge</a></li><li><a href="tui.util.HashMap.html#remove">remove</a></li><li><a href="tui.util.HashMap.html#removeAll">removeAll</a></li><li><a href="tui.util.HashMap.html#removeByKey">removeByKey</a></li><li><a href="tui.util.HashMap.html#removeByKeyArray">removeByKeyArray</a></li><li><a href="tui.util.HashMap.html#set">set</a></li><li><a href="tui.util.HashMap.html#setKeyValue">setKeyValue</a></li><li><a href="tui.util.HashMap.html#setObject">setObject</a></li><li><a href="tui.util.HashMap.html#toArray">toArray</a></li></ul></div></li><li><a href="tui.util.Map.html">Map</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="tui.util.Map_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="tui.util.Map.html#clear">clear</a></li><li><a href="tui.util.Map.html#delete">delete</a></li><li><a href="tui.util.Map.html#entries">entries</a></li><li><a href="tui.util.Map.html#forEach">forEach</a></li><li><a href="tui.util.Map.html#get">get</a></li><li><a href="tui.util.Map.html#has">has</a></li><li><a href="tui.util.Map.html#keys">keys</a></li><li><a href="tui.util.Map.html#set">set</a></li><li><a href="tui.util.Map.html#values">values</a></li></ul></div></li><li><a href="tui.util.Popup.html">Popup</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="tui.util.Popup_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="tui.util.Popup.html#closeWithParentPopup">closeWithParentPopup</a></li><li><a href="tui.util.Popup.html#openedPopup">openedPopup</a></li><li><a href="tui.util.Popup.html#postBridgeUrl">postBridgeUrl</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="tui.util.Popup.html#close">close</a></li><li><a href="tui.util.Popup.html#closeAllPopup">closeAllPopup</a></li><li><a href="tui.util.Popup.html#createForm">createForm</a></li><li><a href="tui.util.Popup.html#focus">focus</a></li><li><a href="tui.util.Popup.html#getPopupList">getPopupList</a></li><li><a href="tui.util.Popup.html#openPopup">openPopup</a></li></ul></div></li></ul></div><div class="lnb-api hidden"><h3>Namespaces</h3><ul><li><a href="tui.util.html">tui.util</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="tui.util_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="tui.util.html#.browser">browser</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="tui.util.html#.bind">bind</a></li><li><a href="tui.util.html#.compareJSON">compareJSON</a></li><li><a href="tui.util.html#.createObject">createObject</a></li><li><a href="tui.util.html#.debounce">debounce</a></li><li><a href="tui.util.html#.decodeHTMLEntity">decodeHTMLEntity</a></li><li><a href="tui.util.html#.defineClass">defineClass</a></li><li><a href="tui.util.html#.defineModule">defineModule</a></li><li><a href="tui.util.html#.defineNamespace">defineNamespace</a></li><li><a href="tui.util.html#.encodeHTMLEntity">encodeHTMLEntity</a></li><li><a href="tui.util.html#.extend">extend</a></li><li><a href="tui.util.html#.filter">filter</a></li><li><a href="tui.util.html#.forEach">forEach</a></li><li><a href="tui.util.html#.forEachArray">forEachArray</a></li><li><a href="tui.util.html#.forEachOwnProperties">forEachOwnProperties</a></li><li><a href="tui.util.html#.formatDate">formatDate</a></li><li><a href="tui.util.html#.hasEncodableString">hasEncodableString</a></li><li><a href="tui.util.html#.hasStamp">hasStamp</a></li><li><a href="tui.util.html#.imagePing">imagePing</a></li><li><a href="tui.util.html#.inArray">inArray</a></li><li><a href="tui.util.html#.inherit">inherit</a></li><li><a href="tui.util.html#.isArguments">isArguments</a></li><li><a href="tui.util.html#.isArray">isArray</a></li><li><a href="tui.util.html#.isArraySafe">isArraySafe</a></li><li><a href="tui.util.html#.isBoolean">isBoolean</a></li><li><a href="tui.util.html#.isBooleanSafe">isBooleanSafe</a></li><li><a href="tui.util.html#.isDate">isDate</a></li><li><a href="tui.util.html#.isDateSafe">isDateSafe</a></li><li><a href="tui.util.html#.isEmpty">isEmpty</a></li><li><a href="tui.util.html#.isExisty">isExisty</a></li><li><a href="tui.util.html#.isFalsy">isFalsy</a></li><li><a href="tui.util.html#.isFunction">isFunction</a></li><li><a href="tui.util.html#.isFunctionSafe">isFunctionSafe</a></li><li><a href="tui.util.html#.isHTMLNode">isHTMLNode</a></li><li><a href="tui.util.html#.isHTMLTag">isHTMLTag</a></li><li><a href="tui.util.html#.isNotEmpty">isNotEmpty</a></li><li><a href="tui.util.html#.isNull">isNull</a></li><li><a href="tui.util.html#.isNumber">isNumber</a></li><li><a href="tui.util.html#.isNumberSafe">isNumberSafe</a></li><li><a href="tui.util.html#.isObject">isObject</a></li><li><a href="tui.util.html#.isString">isString</a></li><li><a href="tui.util.html#.isStringSafe">isStringSafe</a></li><li><a href="tui.util.html#.isTruthy">isTruthy</a></li><li><a href="tui.util.html#.isUndefined">isUndefined</a></li><li><a href="tui.util.html#.keys">keys</a></li><li><a href="tui.util.html#.map">map</a></li><li><a href="tui.util.html#.pick">pick</a></li><li><a href="tui.util.html#.pluck">pluck</a></li><li><a href="tui.util.html#.range">range</a></li><li><a href="tui.util.html#.reduce">reduce</a></li><li><a href="tui.util.html#.stamp">stamp</a></li><li><a href="tui.util.html#.throttle">throttle</a></li><li><a href="tui.util.html#.timestamp">timestamp</a></li><li><a href="tui.util.html#.toArray">toArray</a></li><li><a href="tui.util.html#.zip">zip</a></li></ul></div></li></ul></div>
</nav>
<div id="resizer"></div>

<div class="main" id="main">
    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * @fileoverview This module has a function for date format.
 * @author NHN.
 *         FE Development Lab &lt;dl_javascript@nhn.com>
 */

'use strict';

var type = require('./type');
var object = require('./object');

var tokens = /[\\]*YYYY|[\\]*YY|[\\]*MMMM|[\\]*MMM|[\\]*MM|[\\]*M|[\\]*DD|[\\]*D|[\\]*HH|[\\]*H|[\\]*A/gi;
var MONTH_STR = [
    'Invalid month', 'January', 'February', 'March', 'April', 'May',
    'June', 'July', 'August', 'September', 'October', 'November', 'December'
];
var MONTH_DAYS = [0, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];
var replaceMap = {
    M: function(date) {
        return Number(date.month);
    },
    MM: function(date) {
        var month = date.month;

        return (Number(month) &lt; 10) ? '0' + month : month;
    },
    MMM: function(date) {
        return MONTH_STR[Number(date.month)].substr(0, 3);
    },
    MMMM: function(date) {
        return MONTH_STR[Number(date.month)];
    },
    D: function(date) {
        return Number(date.date);
    },
    d: function(date) {
        return replaceMap.D(date); // eslint-disable-line new-cap
    },
    DD: function(date) {
        var dayInMonth = date.date;

        return (Number(dayInMonth) &lt; 10) ? '0' + dayInMonth : dayInMonth;
    },
    dd: function(date) {
        return replaceMap.DD(date); // eslint-disable-line new-cap
    },
    YY: function(date) {
        return Number(date.year) % 100;
    },
    yy: function(date) {
        return replaceMap.YY(date); // eslint-disable-line new-cap
    },
    YYYY: function(date) {
        var prefix = '20',
            year = date.year;
        if (year > 69 &amp;&amp; year &lt; 100) {
            prefix = '19';
        }

        return (Number(year) &lt; 100) ? prefix + String(year) : year;
    },
    yyyy: function(date) {
        return replaceMap.YYYY(date); // eslint-disable-line new-cap
    },
    A: function(date) {
        return date.meridiem;
    },
    a: function(date) {
        return date.meridiem;
    },
    hh: function(date) {
        var hour = date.hour;

        return (Number(hour) &lt; 10) ? '0' + hour : hour;
    },
    HH: function(date) {
        return replaceMap.hh(date);
    },
    h: function(date) {
        return String(Number(date.hour));
    },
    H: function(date) {
        return replaceMap.h(date);
    },
    m: function(date) {
        return String(Number(date.minute));
    },
    mm: function(date) {
        var minute = date.minute;

        return (Number(minute) &lt; 10) ? '0' + minute : minute;
    }
};

/**
 * Check whether the given variables are valid date or not.
 * @param {number} year - Year
 * @param {number} month - Month
 * @param {number} date - Day in month.
 * @returns {boolean} Is valid?
 * @private
 */
function isValidDate(year, month, date) { // eslint-disable-line complexity
    var isValidYear, isValidMonth, isValid, lastDayInMonth;

    year = Number(year);
    month = Number(month);
    date = Number(date);

    isValidYear = (year > -1 &amp;&amp; year &lt; 100) || ((year > 1969) &amp;&amp; (year &lt; 2070));
    isValidMonth = (month > 0) &amp;&amp; (month &lt; 13);

    if (!isValidYear || !isValidMonth) {
        return false;
    }

    lastDayInMonth = MONTH_DAYS[month];
    if (month === 2 &amp;&amp; year % 4 === 0) {
        if (year % 100 !== 0 || year % 400 === 0) {
            lastDayInMonth = 29;
        }
    }

    isValid = (date > 0) &amp;&amp; (date &lt;= lastDayInMonth);

    return isValid;
}

/**
 * Return a string that transformed from the given form and date.
 * @param {string} form - Date form
 * @param {Date|Object} date - Date object
 * @param {{meridiemSet: {AM: string, PM: string}}} option - Option
 * @returns {boolean|string} A transformed string or false.
 * @memberof tui.util
 * @example
 *  // key             | Shorthand
 *  // --------------- |-----------------------
 *  // years           | YY / YYYY / yy / yyyy
 *  // months(n)       | M / MM
 *  // months(str)     | MMM / MMMM
 *  // days            | D / DD / d / dd
 *  // hours           | H / HH / h / hh
 *  // minutes         | m / mm
 *  // meridiem(AM,PM) | A / a
 *
 * //-- #1. Get Module --//
 * var util = require('tui-code-snippet'); // node, commonjs
 * var util = tui.util; // distribution file
 *
 * //-- #2. Use property --//
 * var dateStr1 = util.formatDate('yyyy-MM-dd', {
 *     year: 2014,
 *     month: 12,
 *     date: 12
 * });
 * alert(dateStr1); // '2014-12-12'
 *
 * var dateStr2 = util.formatDate('MMM DD YYYY HH:mm', {
 *     year: 1999,
 *     month: 9,
 *     date: 9,
 *     hour: 0,
 *     minute: 2
 * });
 * alert(dateStr2); // 'Sep 09 1999 00:02'
 *
 * var dt = new Date(2010, 2, 13),
 *     dateStr3 = util.formatDate('yyyy년 M월 dd일', dt);
 * alert(dateStr3); // '2010년 3월 13일'
 *
 * var option4 = {
 *     meridiemSet: {
 *         AM: '오전',
 *         PM: '오후'
 *     }
 * };
 * var date4 = {year: 1999, month: 9, date: 9, hour: 13, minute: 2};
 * var dateStr4 = util.formatDate('yyyy-MM-dd A hh:mm', date4, option4));
 * alert(dateStr4); // '1999-09-09 오후 01:02'
 */
function formatDate(form, date, option) { // eslint-disable-line complexity
    var am = object.pick(option, 'meridiemSet', 'AM') || 'AM';
    var pm = object.pick(option, 'meridiemSet', 'PM') || 'PM';
    var meridiem, nDate, resultStr;

    if (type.isDate(date)) {
        nDate = {
            year: date.getFullYear(),
            month: date.getMonth() + 1,
            date: date.getDate(),
            hour: date.getHours(),
            minute: date.getMinutes()
        };
    } else {
        nDate = {
            year: date.year,
            month: date.month,
            date: date.date,
            hour: date.hour,
            minute: date.minute
        };
    }

    if (!isValidDate(nDate.year, nDate.month, nDate.date)) {
        return false;
    }

    nDate.meridiem = '';
    if (/([^\\]|^)[aA]\b/.test(form)) {
        meridiem = (nDate.hour > 11) ? pm : am;
        if (nDate.hour > 12) { // See the clock system: https://en.wikipedia.org/wiki/12-hour_clock
            nDate.hour %= 12;
        }
        if (nDate.hour === 0) {
            nDate.hour = 12;
        }
        nDate.meridiem = meridiem;
    }

    resultStr = form.replace(tokens, function(key) {
        if (key.indexOf('\\') > -1) { // escape character
            return key.replace(/\\/, '');
        }

        return replaceMap[key](nDate) || '';
    });

    return resultStr;
}

module.exports = formatDate;
</code></pre>
        </article>
    </section>




</div>

<footer>
    <img class="logo" src="https://cloud.githubusercontent.com/assets/12269563/20029815/01133928-a39a-11e6-80f3-12500a91c755.png" style="width: 150px; height: 13px">
    <div class="footer-text">NHN Entertainment. Frontend Development Lab</div>
</footer>
<script>prettyPrint();</script>
<script src="scripts/jquery.min.js"></script>
<script src="scripts/tui-doc.js"></script>
<script src="scripts/linenumber.js"></script>

    <script>
        var id = '_sub'.replace(/"/g, '_');
        var selectedApi = document.getElementById(id); // do not use jquery selector
        var $selectedApi = $(selectedApi);

        $selectedApi.removeClass('hidden');
        $selectedApi.parent().find('.glyphicon').removeClass('glyphicon-plus').addClass('glyphicon-minus');
        showLnbApi();
    </script>

</body>
</html>
